# 生成可执行文件
add_executable (sample main.cpp)

# copy
add_custom_command(TARGET sample PRE_BUILD
COMMAND ${CMAKE_COMMAND} -E copy_directory
${CMAKE_SOURCE_DIR}/assets   $<TARGET_FILE_DIR:sample>)

# windows  vs特有 工程目录下要有一份资源
# copy resource to execute dir (debug mode)
add_custom_command(TARGET sample PRE_BUILD
COMMAND ${CMAKE_COMMAND} -E copy_directory
${CMAKE_SOURCE_DIR}/assets/Resources   "${PROJECT_BINARY_DIR}/sample")

if(WINDOWS)
	# copy dll
    add_custom_command(TARGET sample 
    POST_BUILD COMMAND 
    ${CMAKE_COMMAND} -E copy_directory "${PROJECT_SOURCE_DIR}/Dependencies/GLEW/bin/Release/Win32" "$<TARGET_FILE_DIR:sample>")

	target_link_libraries(  sample 
							PhantomCore 
							opengl32.lib 
							glew32.lib
							glfw3.lib)

elseif(MACOS)

    target_link_libraries(sample  
    	PhantomCore 
    	${OPENGL_LIBRARIES} 
        libGLEW.a
        libc++.dylib
    	${EXTRA_LIBS}
    	libglfw3.a
    )
endif()
